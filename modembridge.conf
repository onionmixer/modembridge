# Serial Port Configuration
SERIAL_PORT="/dev/ttyUSB0"
#ex:1200,2400,4800,9600,19200,38400,57600,115200
BAUDRATE=4800
#ex:EVEN,ODD,NONE
BIT_PARITY=NONE
#ex:8,7
BIT_DATA=8
BIT_STOP=1
#ex:NONE,XON/XOFF,RTS/CTS,BOTH
FLOW=NONE

# Modem Initialization (executed at server startup)
# Strategy: Use ATZ to reset, then apply all settings in AUTOANSWER_COMMAND
# This prevents AT&F from resetting previous settings
MODEM_INIT_COMMAND="ATZ; AT&F Q0 V1 X4 &C1 S7=60 S10=120 S30=5"

# Modem Auto-Answer Mode
# 0 = SOFTWARE mode (S0=0): Manual answer with ATA command (requires client to send ATA)
# 1 = HARDWARE mode (S0>0): Hardware auto-answer (modem answers automatically after N rings)
# Based on modem_sample pattern from MBSE BBS project
MODEM_AUTOANSWER_MODE=0

# Modem Auto-Answer Commands (executed after MODEM_INIT_COMMAND)
# SOFTWARE mode (S0=0): Client must send ATA manually after RING detection
# - Gives client control over when to answer
# - Useful for interactive BBSs that show caller info before answering
MODEM_AUTOANSWER_SOFTWARE_COMMAND="ATE0 S0=0"

# HARDWARE mode (S0=2): Modem answers automatically after 2 rings
# - Simpler, fully automated operation
# - Modem handles RING detection and sends ATA automatically
MODEM_AUTOANSWER_HARDWARE_COMMAND="ATE0 S0=2"

# Modem Health Check Commands (optional, executed during health check)
# These commands are sent to modem during health check for additional testing
# Multiple commands can be separated by semicolon (;)
# Example: Query modem status and signal quality
#MODEM_HEALTH_COMMAND="ATI; AT+CSQ"
# Leave empty or comment out to skip health check commands
MODEM_HEALTH_COMMAND="ATZ"

# Telnet Server Configuration
TELNET_HOST="127.0.0.1"
#Port 9091: line_mode_server
#Port 9092: char_mode_server
#Port 9093: line_mode_binary_server
TELNET_PORT="8882"

# Data Logging (optional)
# Enable hex dump logging of all data transfers
# Format: [timestamp][direction] hex_data | ascii
# Directions: from_modem, to_telnet, from_telnet, to_modem, internal
DATA_LOG_ENABLED=1
DATA_LOG_FILE="modembridge.log"

# Echo Functionality (Level 1)
# Enable/disable client echo with timestamp formatting
# When enabled, echoes client input back with format: [timestamp][from server] DATA
ECHO_ENABLED=1
# Immediate echo mode: 1=echo immediately, 0=buffered
ECHO_IMMEDIATE=1
# Delay before first echo (seconds)
ECHO_FIRST_DELAY=2
# Minimum interval between echoes (seconds)
ECHO_MIN_INTERVAL=1
# Prefix for echo messages
ECHO_PREFIX="[from server]"

